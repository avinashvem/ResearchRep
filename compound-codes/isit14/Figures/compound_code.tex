\begin{tikzpicture}
  [
  node distance = 12mm, draw=black, thick, >=stealth',
  bitnode/.style={circle, inner sep = 0pt, minimum size = 5.5mm, draw=black},
  checknode/.style={rectangle, inner sep = 0pt, minimum size = 4mm, draw=black},
  bitnode2/.style={circle, inner sep = 0pt, minimum size = 4mm, draw=black, fill=black!50},
  ]
  
  \foreach \x in {1,2,...,9} {
    \node[bitnode2] (bb\x) at (\x-5,3) {};
  }

  \foreach \y in {1,2,...,9} {
    \node at (\y-5,3.5) {$x_{\y}$};
  }

  \foreach \x in {1,2,...,9} {
    \node[checknode] (c\x) at (\x-5,2) {};
    \draw[thin] (c\x) -- (bb\x);
  }

  \foreach \x in {1,2,...,6} {
    \node[bitnode] (b\x) at (1.2*\x-4.2,0) {$u_{\x}$};
  }

  \foreach \x in {1,...,4} {
    \node[checknode] (cc\x) at (5*\x/3-2.5-5/3,-2) {};
  }

  \draw[thin] (c1) -- (b4);
  \draw[thin] (c1) -- (b1);
  \draw[thin] (c2) -- (b1);
  \draw[thin] (c2) -- (b3);
  \draw[thin] (c3) -- (b3);
  \draw[thin] (c3) -- (b2);
  \draw[thin] (c4) -- (b1);
  \draw[thin] (c4) -- (b6);
  \draw[thin] (c5) -- (b2);
  \draw[thin] (c5) -- (b5);
  \draw[thin] (c6) -- (b5);
  \draw[thin] (c6) -- (b6);
  \draw[thin] (c7) -- (b3);
  \draw[thin] (c7) -- (b4);
  \draw[thin] (c8) -- (b5);
  \draw[thin] (c8) -- (b2);
  \draw[thin] (c9) -- (b4);
  \draw[thin] (c9) -- (b6);


  \draw[thin] (cc1) -- (b2);
  \draw[thin] (cc1) -- (b1);
  \draw[thin] (cc1) -- (b5);
  \draw[thin] (cc2) -- (b5);
  \draw[thin] (cc2) -- (b3);
  \draw[thin] (cc2) -- (b4);
  \draw[thin] (cc3) -- (b1);
  \draw[thin] (cc3) -- (b3);
  \draw[thin] (cc3) -- (b6);
  \draw[thin] (cc4) -- (b2);
  \draw[thin] (cc4) -- (b6);
  \draw[thin] (cc4) -- (b4);

  \draw[<->] (3.5,2) to [bend right=25] (4,1.5) node [right] {\Large $d_{c}$};
  \draw[<->] (2.25,0.1) to [bend left=30] (3.5,0.5) node [right] {\Large $d_{v}$};
  \draw[<->] (2.5,-0.1) to [bend right=30] (3.25,-0.5) node [right] {\Large $d'_{v}$};
  \draw[<->] (2,-2) to [bend left=25] (3,-1.5) node [right] {\Large $d'_{c}$};

  \node at (-4.5,2.5) {\Large $n$};
  \node at (-3.8,0) {\Large $m$};

  \node at (5*1/3-2.5-5/3,-2.5) {$s_1$};
  \node at (5*2/3-2.5-5/3,-2.5) {$s_2$};
  \node at (5*3/3-2.5-5/3,-2.5) {$0$};
  \node at (5*4/3-2.5-5/3,-2.5) {$0$};

  \draw[decorate,decoration={brace,amplitude=5pt,mirror}] (-2.8,-2.75) -- (-0.55,-2.75) node [midway,yshift=-0.5cm] {$\mathcal{P}_1$,  $|\mathcal{P}_1|=k$};
  \draw[decorate,decoration={brace,amplitude=5pt,mirror}] (3.33-2.8,-2.75) -- (3.33-0.55,-2.75) node [midway,yshift=-0.5cm]{$\mathcal{P}_2$,  $|\mathcal{P}_2|=k'$};
\end{tikzpicture}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../isit14"
%%% End: 
