\begin{tikzpicture}
  [
  node distance = 12mm, draw=black, thick, >=stealth',
  bitnode/.style={circle, inner sep = 0pt, minimum size = 5.5mm, draw=black},
  bitnodehidden/.style={circle, inner sep = 0pt, minimum size = 5.5mm, draw=white},
  checknode/.style={rectangle, inner sep = 0pt, minimum size = 4mm, draw=black},
  checknodehidden/.style={rectangle, inner sep = 0pt, minimum size = 4mm, draw=white},
  bitnode2/.style={circle, inner sep = 0pt, minimum size = 4mm, draw=black, fill=black!50},
  bitnode2hidden/.style={circle, inner sep = 0pt, minimum size = 4mm, draw=white, fill=white},
  ]

  \only<1>{

    \foreach \x in {1,2,...,9} {
      \node[bitnode2hidden] (bb\x) at (\x-5,3) {};
    }

    \foreach \y in {1,2,...,9} {
      \node[white] at (\y-5,4.5) {\Large{$x_{\y}$}};
    }

    \foreach \y in {1,2,...,9} {
      \node[white] at (\y-5,3.5) {\Large{$\hat{x}_{\y}$}};
    }

    \foreach \x in {1,2,...,9} {
      \node[checknodehidden] (c\x) at (\x-5,2) {};
      \draw[white,thin] (c\x) -- (bb\x);
    }

    \foreach \x in {1,2,...,6} {
      \node[bitnodehidden,white] (b\x) at (1.2*\x-4.2,0) {$u_{\x}$};
    }

    \node[white] at (-4.5,2.5) {\Large $n$};
    \node[white] at (-3.8,0) {\Large $m$};

    \draw[white,thin] (c1) -- (b4);
    \draw[white,thin] (c1) -- (b1);
    \draw[white,thin] (c2) -- (b1);
    \draw[white,thin] (c2) -- (b3);
    \draw[white,thin] (c3) -- (b3);
    \draw[white,thin] (c3) -- (b2);
    \draw[white,thin] (c4) -- (b1);
    \draw[white,thin] (c4) -- (b6);
    \draw[white,thin] (c5) -- (b2);
    \draw[white,thin] (c5) -- (b5);
    \draw[white,thin] (c6) -- (b5);
    \draw[white,thin] (c6) -- (b6);
    \draw[white,thin] (c7) -- (b3);
    \draw[white,thin] (c7) -- (b4);
    \draw[white,thin] (c8) -- (b5);
    \draw[white,thin] (c8) -- (b2);
    \draw[white,thin] (c9) -- (b4);
    \draw[white,thin] (c9) -- (b6);

    \foreach \x in {1,...,4} {
      \node[checknodehidden] (cc\x) at (5*\x/3-2.5-5/3,-2) {};
    }
    \node[white] at (-3.8,-2) {\Large $k$};

    \draw[white,thin] (cc1) -- (b2);
    \draw[white,thin] (cc1) -- (b1);
    \draw[white,thin] (cc1) -- (b5);
    \draw[white,thin] (cc2) -- (b5);
    \draw[white,thin] (cc2) -- (b3);
    \draw[white,thin] (cc2) -- (b4);
    \draw[white,thin] (cc3) -- (b1);
    \draw[white,thin] (cc3) -- (b3);
    \draw[white,thin] (cc3) -- (b6);
    \draw[white,thin] (cc4) -- (b2);
    \draw[white,thin] (cc4) -- (b6);
    \draw[white,thin] (cc4) -- (b4);

    \node[white] at (5*1/3-2.5-5/3,-2.5) {$s_1$};
    \node[white] at (5*2/3-2.5-5/3,-2.5) {$s_2$};
    \node[white] at (5*3/3-2.5-5/3,-2.5) {$s_3$};
    \node[white] at (5*4/3-2.5-5/3,-2.5) {$s_4$};

    \draw[white,decorate,decoration={brace,amplitude=5pt,mirror}] (-2.8,-2.75) -- (3.33-0.55,-2.75) node [midway,yshift=-0.5cm] {$\mathcal{P}_1$,  $|\mathcal{P}_1|=k$};

    \node[white] at (-3,-4.25) {\LARGE{$\frac{m}{n}\approx 1 - h(D) + \varepsilon$}};
    \node[white] at (3,-4.25) {\LARGE{$\frac{m-k}{n}\approx 1 - h(D*\delta) + \varepsilon$}};
  }

  \only<2->{
    \foreach \x in {1,2,...,9} {
      \node[bitnode2] (bb\x) at (\x-5,3) {};
    }

    \foreach \y in {1,2,...,9} {
      \node at (\y-5,4.5) {\Large{$x_{\y}$}};
    }

    \foreach \y in {1,2,...,9} {
      \node at (\y-5,3.5) {\Large{$\hat{x}_{\y}$}};
    }

    \foreach \x in {1,2,...,9} {
      \node[checknode] (c\x) at (\x-5,2) {};
      \draw[thin] (c\x) -- (bb\x);
    }

    \foreach \x in {1,2,...,6} {
      \node[bitnode] (b\x) at (1.2*\x-4.2,0) {$u_{\x}$};
    }

    \node at (-4.5,2.5) {\Large $n$};
    \node at (-3.8,0) {\Large $m$};

    \draw[thin] (c1) -- (b4);
    \draw[thin] (c1) -- (b1);
    \draw[thin] (c2) -- (b1);
    \draw[thin] (c2) -- (b3);
    \draw[thin] (c3) -- (b3);
    \draw[thin] (c3) -- (b2);
    \draw[thin] (c4) -- (b1);
    \draw[thin] (c4) -- (b6);
    \draw[thin] (c5) -- (b2);
    \draw[thin] (c5) -- (b5);
    \draw[thin] (c6) -- (b5);
    \draw[thin] (c6) -- (b6);
    \draw[thin] (c7) -- (b3);
    \draw[thin] (c7) -- (b4);
    \draw[thin] (c8) -- (b5);
    \draw[thin] (c8) -- (b2);
    \draw[thin] (c9) -- (b4);
    \draw[thin] (c9) -- (b6);
  }



  \only<2>{
    \foreach \x in {1,...,4} {
      \node[checknodehidden] (cc\x) at (5*\x/3-2.5-5/3,-2) {};
    }

    \draw[white,thin] (cc1) -- (b2);
    \draw[white,thin] (cc1) -- (b1);
    \draw[white,thin] (cc1) -- (b5);
    \draw[white,thin] (cc2) -- (b5);
    \draw[white,thin] (cc2) -- (b3);
    \draw[white,thin] (cc2) -- (b4);
    \draw[white,thin] (cc3) -- (b1);
    \draw[white,thin] (cc3) -- (b3);
    \draw[white,thin] (cc3) -- (b6);
    \draw[white,thin] (cc4) -- (b2);
    \draw[white,thin] (cc4) -- (b6);
    \draw[white,thin] (cc4) -- (b4);

    \node[white] at (-3.8,-2) {\Large $k$};

    \node[white] at (5*1/3-2.5-5/3,-2.5) {$s_1$};
    \node[white] at (5*2/3-2.5-5/3,-2.5) {$s_2$};
    \node[white] at (5*3/3-2.5-5/3,-2.5) {$s_3$};
    \node[white] at (5*4/3-2.5-5/3,-2.5) {$s_4$};

    \draw[white,decorate,decoration={brace,amplitude=5pt,mirror}] (-2.8,-2.75) -- (3.33-0.55,-2.75) node [midway,yshift=-0.5cm] {$\mathcal{P}_1$,  $|\mathcal{P}_1|=k$};

    \node at (-3,-4.25) {\LARGE{$\frac{m}{n}\approx 1 - h(D) + \varepsilon$}};
    \node[white] at (3,-4.25) {\LARGE{$\frac{m-k}{n}\approx 1 - h(D*\delta) + \varepsilon$}};
  }

  \only<3->{
    \foreach \x in {1,...,4} {
      \node[checknode] (cc\x) at (5*\x/3-2.5-5/3,-2) {};
    }
    \node at (-3.8,-2) {\Large $k$};

    \draw[thin] (cc1) -- (b2);
    \draw[thin] (cc1) -- (b1);
    \draw[thin] (cc1) -- (b5);
    \draw[thin] (cc2) -- (b5);
    \draw[thin] (cc2) -- (b3);
    \draw[thin] (cc2) -- (b4);
    \draw[thin] (cc3) -- (b1);
    \draw[thin] (cc3) -- (b3);
    \draw[thin] (cc3) -- (b6);
    \draw[thin] (cc4) -- (b2);
    \draw[thin] (cc4) -- (b6);
    \draw[thin] (cc4) -- (b4);


    \node at (5*1/3-2.5-5/3,-2.5) {$s_1$};
    \node at (5*2/3-2.5-5/3,-2.5) {$s_2$};
    \node at (5*3/3-2.5-5/3,-2.5) {$s_3$};
    \node at (5*4/3-2.5-5/3,-2.5) {$s_4$};

    \draw[decorate,decoration={brace,amplitude=5pt,mirror}] (-2.8,-2.75) -- (3.33-0.55,-2.75) node [midway,yshift=-0.5cm] {$\mathcal{P}_1$,  $|\mathcal{P}_1|=k$};

    \node at (-3,-4.25) {\LARGE{$\frac{m}{n}\approx 1 - h(D) + \varepsilon$}};
    \node at (3,-4.25) {\LARGE{$\frac{m-k}{n}\approx 1 - h(D*\delta) + \varepsilon$}};
  }

\end{tikzpicture}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../talk"
%%% End: 
